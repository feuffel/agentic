<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Market Cap Losses — Software Companies</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #F6F0EB;
    --bar: #000000;
    --text-primary: #000000;
    --text-secondary: #666666;
    --text-value: #000000;
    --ticker: #666666;
    --source: #666666;
    --divider: #D6D0CB;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    font-family: 'Space Grotesk', sans-serif;
    color: var(--text-primary);
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }

  .chart-container {
    width: 100%;
    height: 100%;
    padding: 3vh 4vw 4vh 4vw;
    display: flex;
    flex-direction: column;
  }

  .chart-title {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 2.8rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 1.1;
    margin-bottom: 0.1rem;
    opacity: 0;
    transform: translateY(12px);
    animation: fadeUp 0.6s ease-out forwards;
  }

  .chart-subtitle {
    font-family: 'Fira Code', monospace;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--text-secondary);
    margin-bottom: 0.8rem;
    opacity: 0;
    transform: translateY(10px);
    animation: fadeUp 0.5s ease-out 0.15s forwards;
  }

  .rows {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    flex: 1;
    justify-content: center;
  }

  .row {
    display: grid;
    grid-template-columns: 100px 1fr 200px;
    align-items: center;
    gap: 0;
    height: 38px;
    opacity: 0;
  }

  .row.visible {
    opacity: 1;
  }

  .value {
    font-family: 'Fira Code', monospace;
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--text-value);
    text-align: right;
    padding-right: 12px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .row.visible .value {
    opacity: 1;
  }

  .bar-track {
    height: 26px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  .bar {
    height: 100%;
    background: var(--bar);
    width: 0;
    transition: width 0.8s cubic-bezier(0.22, 0.61, 0.36, 1);
  }

  .label {
    padding-left: 14px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0;
  }

  .company-name {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 700;
    font-size: 0.95rem;
    line-height: 1.2;
    color: var(--text-primary);
    white-space: nowrap;
  }

  .ticker {
    font-family: 'Fira Code', monospace;
    font-size: 0.65rem;
    font-weight: 500;
    color: var(--ticker);
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  .source {
    font-size: 0.72rem;
    color: var(--source);
    opacity: 0;
    transition: opacity 0.4s ease;
    margin-top: 0.6rem;
    flex-shrink: 0;
  }

  .source.visible {
    opacity: 1;
  }

  .source a { color: var(--text-primary); text-decoration: underline; }

  /* total callout - inline after last row, right-aligned */
  .total-row {
    display: grid;
    grid-template-columns: 100px 1fr 200px;
    align-items: start;
    gap: 0;
    flex-shrink: 0;
    padding-top: 0.3rem;
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  .total-row.visible {
    opacity: 1;
  }

  .total-row .total-content {
    grid-column: 3;
    padding-left: 14px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .total-label {
    font-family: 'Fira Code', monospace;
    font-size: 0.6rem;
    color: var(--text-secondary);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.15em;
  }

  .total-value {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 700;
    font-size: 1.8rem;
    color: var(--text-primary);
    line-height: 1;
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>

<div class="chart-container">
  <h1 class="chart-title">SaaSapocalypse</h1>
  <p class="chart-subtitle">Jan. 30 through Feb. 6, 2026</p>

  <div class="rows" id="rows"></div>

  <div class="total-row" id="total">
    <div class="total-content">
      <span class="total-label">Combined loss</span>
      <span class="total-value">&ndash;$425.6b</span>
    </div>
  </div>

  <p class="source" id="source">Data: <a href="#">Financial Modeling Prep</a>; Chart: Axios Visuals</p>
</div>

<script>
const data = [
  { company: "Microsoft",           ticker: "MSFT", value: 218.8 },
  { company: "Oracle",              ticker: "ORCL", value: 61.0  },
  { company: "Palantir Technologies", ticker: "PLTR", value: 36.1 },
  { company: "AppLovin",            ticker: "APP",  value: 22.6  },
  { company: "Salesforce",          ticker: "CRM",  value: 21.9  },
  { company: "ServiceNow",          ticker: "NOW",  value: 16.2  },
  { company: "Intuit",              ticker: "INTU",  value: 15.7  },
  { company: "CrowdStrike",         ticker: "CRWD", value: 11.2  },
  { company: "Palo Alto Networks",  ticker: "PANW", value: 11.2  },
  { company: "Adobe",               ticker: "ADBE", value: 9.9   },
];

const maxValue = data[0].value;
const container = document.getElementById("rows");
const rows = [];

// Create all rows first
data.forEach((d, i) => {
  const pct = (d.value / maxValue) * 100;

  const row = document.createElement("div");
  row.className = "row";

  row.innerHTML = `
    <div class="value">–$${d.value.toFixed(1)}b</div>
    <div class="bar-track">
      <div class="bar" data-width="${pct}"></div>
    </div>
    <div class="label">
      <span class="company-name">${d.company}</span>
      <span class="ticker">${d.ticker}</span>
    </div>
  `;

  container.appendChild(row);
  rows.push(row);
});

// Animate bars one by one
const BAR_DURATION = 800; // ms for bar to grow
const DELAY_BETWEEN = 250; // ms pause between bars

function animateRow(index) {
  if (index >= rows.length) {
    // All done, show total and source
    setTimeout(() => {
      document.getElementById('total').classList.add('visible');
      setTimeout(() => {
        document.getElementById('source').classList.add('visible');
      }, 300);
    }, 200);
    return;
  }

  const row = rows[index];
  const bar = row.querySelector('.bar');
  const targetWidth = bar.dataset.width;

  // Show row
  row.classList.add('visible');

  // Grow bar
  requestAnimationFrame(() => {
    bar.style.width = targetWidth + '%';
  });

  // Schedule next row after this bar finishes
  setTimeout(() => {
    animateRow(index + 1);
  }, BAR_DURATION + DELAY_BETWEEN);
}

// Start animation after a brief delay
setTimeout(() => {
  animateRow(0);
}, 600);
</script>

</body>
</html>
