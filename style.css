@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap');

/* ===== Base ===== */
.reveal {
  font-family: 'Space Grotesk', sans-serif;
  background: #F6F0EB;
  color: #000000;
  font-weight: 400;
  line-height: 1.5;
}

/* ===== Left-align all slide content (override Reveal.js centering) ===== */
.reveal .slides section {
  text-align: left;
  padding: 7% 7% 15% 7%; /* top=7%, sides=7%, bottom=15% (12% + footer space) */
  box-sizing: border-box;
  width: 100%;
  height: 100%;
}

/* ===== Typography hierarchy ===== */
.reveal h1, .reveal h2, .reveal h3, .reveal h4 {
  font-family: 'Space Grotesk', sans-serif;
  text-transform: none;
  color: #000000;
  text-align: left;
}

.reveal h1 {
  font-weight: 700;
  font-size: 2.2em;
}

.reveal h2 {
  font-weight: 700;
  font-size: 1.6em;
}

.reveal h3 {
  font-weight: 600;
  font-size: 1.2em;
}


.reveal p,
.reveal li {
  font-weight: 400;
  line-height: 1.5;
}

/* ===== Code ===== */
.reveal code, .reveal pre code {
  font-family: 'Fira Code', monospace;
}

.reveal pre {
  border-radius: 0;
  box-shadow: none;
}

/* ===== Links — black on light slides ===== */
.reveal a:not(.navigate-left):not(.navigate-right):not(.navigate-up):not(.navigate-down) {
  color: #000000;
}

.reveal a:not(.navigate-left):not(.navigate-right):not(.navigate-up):not(.navigate-down):hover {
  color: #333333;
}

/* ===== Tables ===== */
.reveal table {
  border-collapse: collapse;
  width: 100%;
}

.reveal table th,
.reveal table td {
  border: 1px solid #D6D0CB;
  padding: 0.55em 0.75em;
  background: transparent;
}

.reveal table thead th {
  font-family: 'Fira Code', monospace;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-weight: 500;
  font-size: 0.7em;
  background: transparent;
  border-bottom: 1px solid #D6D0CB;
}

.reveal table tbody tr:nth-child(odd),
.reveal table tbody tr:nth-child(even) {
  background: transparent;
}

/* ===== Blockquotes — large bold, minimal decoration ===== */
.reveal blockquote {
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  margin: 0.5em 0;
  font-weight: 700;
  font-size: 1.15em;
  font-style: normal;
  width: 100%;
}

/* ===== Grid card layout (style guide "Grid" pattern) ===== */
.grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1px;
  background: #D6D0CB;
  width: 100%;
  margin-top: 0.75em;
}

.grid-2col .grid-cell {
  background: #F6F0EB;
  padding: 1.2em 1.5em;
}

.grid-2col .grid-cell h4 {
  font-family: 'Fira Code', monospace;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-weight: 600;
  font-size: 0.55em;
  margin: 0 0 0.5em 0;
}

.grid-2col .grid-cell p {
  font-weight: 300;
  font-size: 0.75em;
  margin: 0;
  line-height: 1.4;
}

/* ===== Minimal decoration — remove shadows, gradients, rounded corners ===== */
.reveal section img {
  border: none;
  box-shadow: none;
}

/* ===== Persistent footer (DOM element added via JS) ===== */
/* Positioned at bottom of content zone (12% from slide bottom) */
.reveal .slides section .slide-footer {
  position: absolute;
  bottom: 12%;
  left: 7%;
  right: 7%;
  display: flex;
  justify-content: space-between;
  font-family: 'Fira Code', monospace;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 0.45em;
  color: #666666;
  z-index: 100;
  pointer-events: none;
}

.reveal .slides section .slide-footer .footer-left,
.reveal .slides section .slide-footer .footer-right {
  background: transparent;
}

/* Dark slide footer — muted white */
.reveal .slides section.dark-slide .slide-footer {
  color: rgba(255, 255, 255, 0.5);
}

/* Iframe-only slides (no heading) — remove padding for full-bleed content */
.reveal .slides section:not(:has(h1, h2, h3, h4, h5, h6)) {
  padding: 0;
}

/* ===== Dark-slide variant ===== */
.reveal .slides section.dark-slide,
.reveal .slides section.dark-slide h1,
.reveal .slides section.dark-slide h2,
.reveal .slides section.dark-slide h3,
.reveal .slides section.dark-slide h4,
.reveal .slides section.dark-slide p,
.reveal .slides section.dark-slide li,
.reveal .slides section.dark-slide td,
.reveal .slides section.dark-slide th,
.reveal .slides section.dark-slide blockquote {
  color: #FFFFFF;
}

.reveal .slides section.dark-slide a:not(.navigate-left):not(.navigate-right):not(.navigate-up):not(.navigate-down) {
  color: #FFFFFF;
}

.reveal .slides section.dark-slide table th,
.reveal .slides section.dark-slide table td {
  border-color: rgba(255, 255, 255, 0.25);
}


/* ===== Title slide (background iframe) — centered white text ===== */
.reveal .slides section[data-background-iframe] {
  text-align: center;
}

.reveal section[data-background-iframe] h1,
.reveal section[data-background-iframe] h3 {
  color: #FFFFFF !important;
  text-align: center;
}

/* ===== Projection guides (toggle with G key) ===== */
.projection-guides {
  display: none;
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 100;
}

.projection-guides.visible {
  display: block;
}

/* Outer zone — title safe (5% from all edges) */
.guide-title-safe {
  position: absolute;
  top: 5%;
  left: 5%;
  width: 90%;
  height: 90%;
  border: 2px dashed rgba(255, 60, 60, 0.5);
  box-sizing: border-box;
}

/* Inner zone — content placement
   Reference deck margins (40px H, 48px T, 86px B at 1920×1080)
   applied inside title-safe: 5% + 2% sides/top, 5% + 7% bottom */
.guide-content-zone {
  position: absolute;
  top: 7%;
  left: 7%;
  right: 7%;
  bottom: 12%;
  border: 2px dashed rgba(60, 130, 255, 0.5);
  box-sizing: border-box;
}

/* Padding fill between zones — subtle tint */
.guide-padding-fill {
  position: absolute;
  top: 5%;
  left: 5%;
  width: 90%;
  height: 90%;
  box-sizing: border-box;
  /* Clip out the inner content zone to show only the gap */
  clip-path: polygon(
    0% 0%, 100% 0%, 100% 100%, 0% 100%,     /* outer (title-safe) */
    0% 0%,                                      /* cut back to top-left */
    /* inner hole (content zone, relative to title-safe box) */
    /* content is at 7%/7%/93%/88% of slide = 2%/2%/88%/78.9% of the 90%×90% box */
    2.22% 2.22%, 2.22% 92.22%, 97.78% 92.22%, 97.78% 2.22%, 2.22% 2.22%,
    0% 0%
  );
  background: rgba(60, 130, 255, 0.04);
}

/* Guide labels */
.guide-label {
  position: absolute;
  font-family: 'Fira Code', monospace;
  font-size: 11px;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 2px 8px;
  white-space: nowrap;
}

.guide-title-safe .guide-label {
  color: rgba(255, 60, 60, 0.7);
  background: rgba(255, 60, 60, 0.08);
}

.guide-content-zone .guide-label {
  color: rgba(60, 130, 255, 0.7);
  background: rgba(60, 130, 255, 0.08);
}

.guide-label-tl { top: -1px; left: -1px; }
.guide-label-tr { top: -1px; right: -1px; }
.guide-label-br { bottom: -1px; right: -1px; }

/* Padding dimension annotations */
.guide-dim {
  position: absolute;
  font-family: 'Fira Code', monospace;
  font-size: 10px;
  color: rgba(60, 130, 255, 0.5);
  white-space: nowrap;
}

.guide-dim-top {
  top: 5.8%;
  left: 50%;
  transform: translateX(-50%);
}

.guide-dim-left {
  top: 50%;
  left: 5.2%;
  transform: rotate(-90deg) translateX(-50%);
  transform-origin: left center;
}

.guide-dim-bottom {
  bottom: 5.8%;
  left: 50%;
  transform: translateX(-50%);
}

/* ===== Z-index layering for background iframes ===== */
.reveal > .backgrounds {
  z-index: 1;
}

.reveal > .slides {
  z-index: 2;
}

.reveal .slide-background iframe {
  z-index: 0 !important;
  pointer-events: none;
}

/* ===== Overview mode — disable pointer events on inline iframes so slides are clickable ===== */
.reveal.overview iframe {
  pointer-events: none;
}

/* ===== Compact slide variants for content-heavy slides ===== */

/* Standard compact — 85% scale for slides with many bullets */
.reveal .slides section.compact-slide {
  font-size: 0.85em;
}

.reveal .slides section.compact-slide h2 {
  font-size: 1.5em;
}

.reveal .slides section.compact-slide h3 {
  font-size: 1.1em;
}

/* Extra compact — 75% scale for very dense slides */
.reveal .slides section.compact-slide-xs {
  font-size: 0.75em;
}

.reveal .slides section.compact-slide-xs h2 {
  font-size: 1.4em;
}

/* Compact code — smaller code blocks with tighter line height */
.reveal .slides section.compact-code pre {
  font-size: 0.75em;
  line-height: 1.35;
}

.reveal .slides section.compact-code pre code {
  padding: 0.8em 1em;
}

/* Two-column agenda layout */
.reveal .slides section .agenda-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0 3em;
}

.reveal .slides section .agenda-columns ol {
  margin: 0;
  padding-left: 1.5em;
}

.reveal .slides section .agenda-columns ol:first-child {
  list-style-position: inside;
}

.reveal .slides section .agenda-columns ol li {
  margin-bottom: 0.3em;
}

/* ===== PDF Print Styles ===== */
/* Reveal.js adds .print-pdf class when exporting to PDF via ?print-pdf */

/* Force solid backgrounds for dark slides (iframes don't render in PDF) */
.print-pdf .reveal .slides section.dark-slide,
.print-pdf .reveal .slides section[data-background-iframe] {
  background: #000000 !important;
}

/* Ensure dark slide text stays white in PDF */
.print-pdf .reveal .slides section.dark-slide,
.print-pdf .reveal .slides section.dark-slide h1,
.print-pdf .reveal .slides section.dark-slide h2,
.print-pdf .reveal .slides section.dark-slide h3,
.print-pdf .reveal .slides section.dark-slide h4,
.print-pdf .reveal .slides section.dark-slide p,
.print-pdf .reveal .slides section.dark-slide li {
  color: #FFFFFF !important;
}

/* Title slide with background iframe — force black bg and white text */
.print-pdf .reveal .slides section[data-background-iframe] h1,
.print-pdf .reveal .slides section[data-background-iframe] h3 {
  color: #FFFFFF !important;
}

/* Preserve light slide colors in PDF */
.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) {
  background: #F6F0EB !important;
}

.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) h1,
.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) h2,
.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) h3,
.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) h4,
.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) p,
.print-pdf .reveal .slides section:not(.dark-slide):not([data-background-iframe]) li {
  color: #000000 !important;
}

/* Grid cells need explicit background in PDF */
.print-pdf .reveal .grid-2col .grid-cell {
  background: #F6F0EB !important;
}

/* Hide projection guides in PDF */
.print-pdf .projection-guides {
  display: none !important;
}

/* Iframe slides — show placeholder message in PDF since iframes don't render */
.print-pdf .reveal .slides section:has(iframe:not([data-background-iframe])):not(:has(h1, h2, h3, h4)) .iframe-placeholder {
  display: block;
  text-align: center;
  padding: 40% 10%;
  font-family: 'Fira Code', monospace;
  font-size: 0.8em;
  color: #666666;
  background: #F6F0EB;
}
