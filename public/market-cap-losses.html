<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Market Cap Losses — Software Companies</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #F6F0EB;
    --bar: #000000;
    --text-primary: #000000;
    --text-secondary: #666666;
    --text-value: #000000;
    --ticker: #666666;
    --source: #666666;
    --divider: #D6D0CB;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    font-family: 'Space Grotesk', sans-serif;
    color: var(--text-primary);
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }

  .chart-container {
    width: 100%;
    height: 100%;
    padding: 7vh 7vw 12vh 7vw;
    display: flex;
    flex-direction: column;
    position: relative;
  }

  .chart-title {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 3.8rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 1.15;
    margin-bottom: 0.15rem;
    opacity: 0;
    transform: translateY(12px);
    animation: fadeUp 0.6s ease-out forwards;
  }

  .chart-subtitle {
    font-family: 'Fira Code', monospace;
    font-size: 0.9rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--text-secondary);
    margin-bottom: 1.2rem;
    opacity: 0;
    transform: translateY(10px);
    animation: fadeUp 0.5s ease-out 0.15s forwards;
  }

  .rows {
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
    flex: 1;
    justify-content: center;
  }

  .row {
    display: grid;
    grid-template-columns: 130px 1fr 260px;
    align-items: center;
    gap: 0;
    height: 44px;
    opacity: 0;
    transform: translateY(8px);
  }

  .value {
    font-family: 'Fira Code', monospace;
    font-weight: 500;
    font-size: 1.05rem;
    color: var(--text-value);
    text-align: right;
    padding-right: 16px;
    white-space: nowrap;
    opacity: 0;
  }

  .bar-track {
    height: 32px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  .bar {
    height: 100%;
    background: var(--bar);
    width: 0;
    position: relative;
  }

  .label {
    padding-left: 18px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0;
  }

  .company-name {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 700;
    font-size: 1.1rem;
    line-height: 1.2;
    color: var(--text-primary);
    white-space: nowrap;
  }

  .ticker {
    font-family: 'Fira Code', monospace;
    font-size: 0.72rem;
    font-weight: 500;
    color: var(--ticker);
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  .source {
    font-size: 0.82rem;
    color: var(--source);
    opacity: 0;
    animation: fadeUp 0.4s ease-out 2.6s forwards;
  }

  .source a { color: var(--text-primary); text-decoration: underline; }

  /* total line */
  .total-callout {
    margin-top: 0.6rem;
    padding: 0.6rem 0 0;
    border-top: 1px solid var(--divider);
    display: flex;
    align-items: baseline;
    gap: 0.6rem;
    opacity: 0;
    transform: translateY(6px);
    animation: fadeUp 0.5s ease-out 2.4s forwards;
  }

  .total-label {
    font-family: 'Fira Code', monospace;
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.15em;
  }

  .total-value {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 700;
    font-size: 1.5rem;
    color: var(--text-primary);
  }

  /* Persistent footer — matches presentation footer positioning */
  .chart-footer {
    position: absolute;
    bottom: 16px;
    left: 8%;
    right: 8%;
    display: flex;
    justify-content: space-between;
    font-family: 'Fira Code', monospace;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    font-size: 19px;
    color: var(--text-secondary);
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes growBar {
    from { width: 0; }
  }

  @keyframes popValue {
    0% { opacity: 0; transform: scale(0.8); }
    60% { transform: scale(1.05); }
    100% { opacity: 1; transform: scale(1); }
  }
</style>
</head>
<body>

<div class="chart-container">
  <h1 class="chart-title">SaaSapocalypse</h1>
  <p class="chart-subtitle">Jan. 30 through Feb. 6, 2026</p>

  <div class="rows" id="rows"></div>

  <div class="total-callout">
    <span class="total-label">Combined loss</span>
    <span class="total-value">&ndash;$425.6b</span>
  </div>

  <p class="source">Data: <a href="#">Financial Modeling Prep</a>; Chart: Axios Visuals</p>

  <div class="chart-footer">
    <span>2026 Industrial Leadership Meeting</span>
    <span>March 11, 2026</span>
  </div>
</div>

<script>
const data = [
  { company: "Microsoft",           ticker: "MSFT", value: 218.8 },
  { company: "Oracle",              ticker: "ORCL", value: 61.0  },
  { company: "Palantir Technologies", ticker: "PLTR", value: 36.1 },
  { company: "AppLovin",            ticker: "APP",  value: 22.6  },
  { company: "Salesforce",          ticker: "CRM",  value: 21.9  },
  { company: "ServiceNow",          ticker: "NOW",  value: 16.2  },
  { company: "Intuit",              ticker: "INTU",  value: 15.7  },
  { company: "CrowdStrike",         ticker: "CRWD", value: 11.2  },
  { company: "Palo Alto Networks",  ticker: "PANW", value: 11.2  },
  { company: "Adobe",               ticker: "ADBE", value: 9.9   },
];

const maxValue = data[0].value;
const container = document.getElementById("rows");

data.forEach((d, i) => {
  const pct = (d.value / maxValue) * 100;
  const rowDelay = 0.3 + i * 0.12;
  const barDelay = rowDelay + 0.15;
  const valDelay = barDelay + 0.25;

  const row = document.createElement("div");
  row.className = "row";
  row.style.animation = `fadeUp 0.4s ease-out ${rowDelay}s forwards`;

  row.innerHTML = `
    <div class="value" style="animation: popValue 0.4s ease-out ${valDelay}s forwards;">
      –$${d.value.toFixed(1)}b
    </div>
    <div class="bar-track">
      <div class="bar" style="animation: growBar 0.7s cubic-bezier(0.22, 0.61, 0.36, 1) ${barDelay}s forwards; width: 0;" data-width="${pct}%"></div>
    </div>
    <div class="label">
      <span class="company-name">${d.company}</span>
      <span class="ticker">${d.ticker}</span>
    </div>
  `;

  container.appendChild(row);
});

// Set final widths after animation
document.querySelectorAll('.bar').forEach(bar => {
  const targetWidth = bar.dataset.width;
  bar.style.setProperty('--target', targetWidth);
  bar.addEventListener('animationend', () => {
    bar.style.width = targetWidth;
  });
});

// Override the growBar animation to use data-driven width
const style = document.createElement('style');
data.forEach((d, i) => {
  const pct = (d.value / maxValue) * 100;
  style.textContent += `
    .rows .row:nth-child(${i + 1}) .bar {
      animation-name: growBar${i};
    }
    @keyframes growBar${i} {
      from { width: 0; }
      to { width: ${pct}%; }
    }
  `;
});
document.head.appendChild(style);
</script>

</body>
</html>
